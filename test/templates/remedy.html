<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
  />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
  />
    <title>Responsive User Task Form</title>
    <style>
        /* General Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Body Style */
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            color: #333;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 20px;
        }

        /* Heading */
        h1 {
            text-align: center;
            color: #4CAF50;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        /* Form */
        form {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 600px;
            padding: 20px;
        }

        /* Form Group */
        .form-group {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        label {
            font-size: 16px;
            font-weight: 600;
            color: #555;
            margin-bottom: 5px;
            flex: 1;
            min-width: 150px;
        }

        input[type="text"], input[type="date"] {
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
            color: #555;
            flex: 2;
        }

        input[type="text"]:focus, input[type="date"]:focus {
            border-color: #4CAF50;
            outline: none;
        }

        /* Required Fields */
        .required {
            color: red;
            font-weight: bold;
        }

        /* Buttons (Submit and Cancel) */
        .form-buttons {
            display: flex;
            justify-content: space-between;
            gap: 10px;
        }

        input[type="submit"], .cancel-btn {
            width: 48%;
            padding: 12px;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
            text-align: center;
        }

        input[type="submit"] {
            background-color: #4CAF50;
            color: white;
            border: none;
        }

        input[type="submit"]:hover {
            background-color: #45a049;
        }

        .cancel-btn {
            background-color: #f44336;
            color: white;
            border: none;
        }

        .cancel-btn:hover {
            background-color: #e53935;
        }


        /* Note for Required Fields */
        .note {
            margin-top: 15px;
            font-size: 14px;
            color: red;
            text-align: center;
        }
        select {
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 16px;
    color: #555;
    flex: 2;
}

select:focus {
    border-color: #4CAF50;
    outline: none;
}
/* Popup Message Style */
.popup {
            display: none;
            padding: 20px;
            font-size: 16px;
            border-radius: 8px;
            text-align: center;
            width: 100%;
            max-width: 400px;
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
        }

        /* Green Popup for Success */
        .popup.success {
            background-color: #4CAF50;
            color: white;
        }

        /* Red Popup for Failure */
        .popup.failure {
            background-color: #f44336;
            color: white;
        }


   
  .image-map-btn-custom:hover {
      background-color: #0d0e0e;
  }
  
  /* Initially hide the image map container */
  .image-map-container {
      display: none;
      margin-top: 5px;
      margin-bottom: 15px;
      width: 100%;
      max-width: 700px; /* Adjust as needed */
      height: 500px;
      border: 2px solid #ccc;
      border-radius: 8px;
      overflow: hidden;
  }
  
  .image-map-container iframe {
      width: 100%;
      height: 100%;
      border: none;
      overflow: auto;
      
  }
  .pile-container {
    text-align: center;
      display: flex;
      flex-wrap: wrap;
      gap: 5px;
      border-width: 10px;
      border-radius: 3px;
      border-color: #080808;
  }
  
  .pile-tag {
      background-color: #007bff;
      color: white;
      padding: 5px 10px;
      border-radius: 4px;
      font-size: 14px;
      display: flex;
      align-items: center;
  }
  
  .remove-x {
      margin-left: 8px;
      cursor: pointer;
      font-weight: bold;
      color: rgb(0, 0, 0);
  }
  
  .remove-x:hover {
      color: #d61111;
  }
  .custom-dropdown {
        position: relative;
        display: inline-block;
        width: 200px;
    }

    .checkbox-label {
      color: red;
    display: flex;
    align-items: center;
    gap: 8px; 
    cursor: pointer; 
}

.checkbox-label input[type="checkbox"] {
    width: 16px;
    height: 16px;
}
.hotspot-wrapper {
    display: flex;
    align-items: center; 
    gap: 15px; 
    flex-wrap: wrap; 
    justify-content: center;
    width: 100%;
}

/* Styles for the hotspot container */
#hotspotContainer {
    border: 2px solid #ccc; 
    padding: 10px;
    min-width: 200px; 
    height: 80px; /* Use height instead of min/max */
    overflow-y: auto; /* Ensure vertical scrolling */
    overflow-x: hidden; /* Hide horizontal overflow */
    background: #f9f9f9;
    border-radius: 5px;
    margin-bottom: 10px;
}
/* Common styles for buttons */
.image-map-btn-custom {
    display: inline-block;
    padding: 8px 12px;
    background-color: #311f1f;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px;
    transition: background-color 0.3s ease;
    align-self: center;
    margin-bottom: 10px;
    min-width: 120px; /* Ensure proper button size */
}
#loadingSpinner {
    display: none;
    position: fixed;
    top: 50%;
    left: 45%;
    transform: translate(-50%, -50%);
    width: 40px;
    height: 40px;
    border: 4px solid rgba(0, 0, 0, 0.1);
    border-top: 4px solid #0597f8;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    z-index: 1000;
}

.header {
        background-color: #2eba41;
        color: white;
        padding: 10px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: relative;
        z-index: 1001;
        display: none;
      }

      .burger-button {
        font-size: 24px;
        background: none;
        border: none;
        color: white;
        cursor: pointer;
      }

      /* Sidebar */
      .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 300px;
        height: 100%;
        background-color: #2c3e50;
        overflow-y: auto;
        transition: transform 0.3s ease;
        box-shadow: 2px 0 5px rgba(0, 0, 0, 0.2);
        z-index: 1000;
      }

      .sidebar.closed {
        transform: translateX(-100%);
      }

      .sidebar-header {
    background-color:  #2eba41; /* Dark blue-gray */
    color: white;
    padding: 14px 20px;
    display: flex;
    justify-content: space-between; /* Pushes elements apart */
    align-items: center;
}

.hello-text {
    font-size: 18px;
    font-weight: bold;
    background-color: #2eba41; /* Green background */
    color: white;
    padding: 5px 15px; /* Adds spacing */
    border-radius: 5px; /* Rounded corners */
    margin-right: 10px; /* Space between text and button */
}

.close-button {
    background-color: #f44336; /* Red background */
    color: white;
    border: none;
    padding: 5px 15px;
    font-size: 16px;
    cursor: pointer;
    border-radius: 5px;
}

.close-button:hover {
    background-color: darkred; /* Darker red on hover */
}

      .menu {
        list-style: none;
        padding: 0;
      }

      .menu-item {
        padding: 10px 20px;
        cursor: pointer;
        position: relative;
        color: white;
        background-color: #2c3e50;
      }

      .menu-item:hover {
        background-color: #000000;
      }

      .menu-item .arrow {
        float: right;
        transition: transform 0.3s;
      }

      .menu-item.open .arrow {
        transform: rotate(90deg);
      }

      .submenu {
        display: none;
        list-style: none;
        padding-left: 20px;
        background-color: #34495e;
       
      }

      .submenu li {
        padding: 5px 20px;
        color: #ecf0f1;
      }

      .submenu li:hover {
        background-color: #000000;
      }

      .menu-item.open .submenu {
        display: block;
      }

      /* Main Content */
      .content {
        align-items: center;
        margin-left: 250px;
        padding: 20px;
        transition: margin-left 0.3s ease;
      }

      .sidebar.closed + .content {
        margin-left: 0;
      }
      ul {
        list-style: none;
        padding: 0;
      }

      ul li {
        margin: 10px 0;
        font-size: 1.1rem;
      }

      ul li input[type="checkbox"] {
        margin-right: 10px;
      }

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

        /* Responsive Behavior */
        @media (max-width: 768px) {
            .welcome-text {
        font-size: 1.2em; /* Same as H3 */
    }
        .sidebar {
          transform: translateX(-100%);
          width: 250px;
        }
        .container {
          max-width: 100%; 
          padding: 12px; 
        }
        .sidebar.open {
          transform: translateX(0);
        }

        .content {
          margin-left: 0;
        }
    }


/* Responsive Behavior */
@media (max-width: 768px) {
    .hotspot-wrapper {
        flex-direction: row; /* Stack items vertically */
        align-items: center; /* Keep centered */
        gap: 10px;
    }

    #hotspotContainer {
        width: 100%; /* Make sure it fits in smaller screens */
        max-width: 90%;
        margin-left: 0px;
    }

    .image-map-btn-custom {
        width: 90%; /* Make buttons take more space */
        max-width: 200px; /* Keep a limit */
        text-align: center;
        margin-right: 0; /* Remove right margin */
    }

    .form-group {
        flex-direction: column;
        width: 100%;
    }

    label {
        margin-bottom: 5px;
    }

    input[type="text"],
    input[type="date"] {
        width: 100%;
    }

    .form-buttons {
        flex-direction: column;
        gap: 10px;
    }

    input[type="submit"],
    .cancel-btn {
        width: 100%;
    }
}

    </style>               
</head>
<body>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

    <header class="header">
      <span class="welcome-message">
        <h2 class="welcome-text">😊 Welcome, {{ username }}! 🌟</h2>
    </span>

      <button id="burger-button" class="burger-button">&#9776;</button>
    </header>
    <div id="sidebar" class="sidebar">
      <div class="sidebar-header">
        <span class="hello-text">Hello, {{ username }}! </span>
        <button id="close-button" class="close-button">&times;</button>
      </div>
      <ul class="menu">
     
        <li class="menu-item open" >
          Masters <span class="arrow ">&#9654;</span>
          <ul class="submenu">
            <li class="menu-item" style="display: flex; justify-content: space-between; align-items: center;">
              Customer
              <span class="icons" style="margin-left: 20px; display: flex; justify-content: flex-end; gap: 10px;">
                <button class="create-btn" style="color: blue;" onclick="window.location.href='/customer'"title="Create">
                  <i class="fas fa-plus"></i>
                </button>
                <button class="update-btn" onclick="window.location.href='/updatecustomer'"title="Update">
                  <i class="fas fa-edit"></i>
                </button>
              </span>
            </li>
            
            <li class="menu-item" style="display: flex; justify-content: space-between; align-items: center;">
              Site
              <span class="icons" style="margin-left: 20px; display: flex; justify-content: flex-end; gap: 10px;">
                <button class="create-btn" style="color: blue;" onclick="window.location.href='/site'" title="Create">
                  <i class="fas fa-plus"></i>
                </button>
                <button class="update-btn" onclick="window.location.href='/updatesite'" title="Update">
                  <i class="fas fa-edit"></i>
                </button>
              </span>
            </li>
            
            <li class="menu-item" style="display: flex; justify-content: space-between; align-items: center;">
              Users
              <span class="icons" style="margin-left: 20px; display: flex; justify-content: flex-end; gap: 10px;">
                <button class="create-btn"style="color: blue;" onclick="window.location.href='/userform'" title="Create">
                  <i class="fas fa-plus"></i>
                </button>
                <button class="update-btn" onclick="window.location.href='/updateusers'"title="Update">
                  <i class="fas fa-edit"></i>
                </button>
              </span>
            </li>
            
            
          </ul>
        </li>
      
        <li class="menu-item" style="display: flex; justify-content: space-between; align-items: center;">
          Assessment
          <span class="icons" style="margin-left: 20px; display: flex; justify-content: flex-end; gap: 10px;">
            <button class="create-btn"style="color: blue;" onclick="window.location.href='/assessment'" title="Create">
              <i class="fas fa-plus"></i>
            </button>
            <button class="update-btn" onclick="window.location.href='/updateassmnt'"title="Update">
              <i class="fas fa-edit"></i>
            </button>
         
          </span>
        </li>
        
        <li class="menu-item" style="display: flex; justify-content: space-between; align-items: center;">
          Remedy
          <span class="icons" style="margin-left: 20px; display: flex; justify-content: flex-end; gap: 10px;">
            <button class="create-btn"style="color: blue;" onclick="window.location.href='/remedy'" title="Create">
              <i class="fas fa-plus"></i>
            </button>
            <button class="update-btn" onclick="window.location.href='/updateremedy'"title="Update">
              <i class="fas fa-edit"></i>
            </button>
         
          </span>
        </li>
        <li class="menu-item">
          Inventory <span class="arrow">&#9654;</span>
          <ul class="submenu">
            <li class="menu-item" style="display: flex; justify-content: space-between; align-items: center;">
              Inventory 
              <span class="icons" style="margin-left: 20px; display: flex; justify-content: flex-end; gap: 10px;">
                <button class="create-btn"style="color: blue;" onclick="window.location.href='/inventory'" title="Create">
                  <i class="fas fa-plus"></i>
                </button>
                <button class="update-btn" onclick="window.location.href='/updateinventory'"title="Update">
                  <i class="fas fa-edit"></i>
                </button>
             
              </span>
            </li>
            <li class="menu-item" style="display: flex; justify-content: space-between; align-items: center;">
              Inventory Trans
              <span class="icons" style="margin-left: 20px; display: flex; justify-content: flex-end; gap: 10px;">
                <button class="create-btn"style="color: blue;" onclick="window.location.href='/invtrans'" title="Create">
                  <i class="fas fa-plus"></i>
                </button>
                <button class="update-btn" onclick="window.location.href='/updateinvtrans'"title="Update">
                  <i class="fas fa-edit"></i>
                </button>
             
              </span>
            </li>
          </ul>
        </li>
        
        </li>
        <li class="menu-item " >
          Reports <span class="arrow ">&#9654;</span>
          <ul class="submenu">
            <li class="menu-item" onclick="window.location.href='/reports'" style="display: flex; justify-content: space-between; align-items: center;">
              Assessment 
              <i class="fas fa-chart-bar" style="margin-left: 10px;"></i>
    
              
            </li>
            <li class="menu-item" onclick="window.location.href='/remedyreports'" style="display: flex; justify-content: space-between; align-items: center;">
              Remedy 
              <i class="fas fa-chart-line" style="margin-left: 10px;"></i>
    
              
            </li>
            </ul>
            </li>
        
        <li class="menu-item" onclick="window.location.href='/profile'" style="display: flex; justify-content: space-between; align-items: center;">
          Profile
          <i class="fas fa-user" style="margin-left: 10px;"></i>
        </li>
        <li class="menu-item" onclick="window.location.href='/'" style="display: flex; justify-content: space-between; align-items: center;">
          Logout
          <i class="fas fa-sign-out-alt" style="margin-left: 10px;"></i>
        </li>
      </ul>
    </div>
    <h1>Create Remedy</h1>
    <form id="remedyForm" action="/submit_remedy_form" method="POST">

      <div class="form-group">
        <label for="area_id">Select Area <span class="required" >*</span></label>
        <select id="area_id" name="area_id" required onchange="updateImageMap()">
            <option value="" disabled selected>Select Area</option>
            <option value="A001">Area 1</option>
            <option value="A002">Area 2</option>
            <option value="A003">Area 3</option>
            <option value="A004">Area 4</option>
            <option value="A005">Area 5</option>
        </select>
    </div>
        
        <div class="form-group">
            <label for="user_id">Select User  <span class="required">*</span></label>
            <select id="user_id" name="user_id" required>
                <option value="" disabled selected>Select User</option>
            </select>
        </div>
        <div class="hotspot-wrapper">
          <button type="button" class="image-map-btn-custom" onclick="openImageMap()">Open Map</button>
          <div id="hotspotContainer"></div>
          <button type="button" class="delete-btn" ></button>
      </div>

      <!-- Hidden input to store selected hotspots -->
      <input type="hidden" id="selectedHotspots" name="selectedHotspots">

      <div id="imageMapContainer" class="image-map-container">
          <iframe src="/area1remedyhotspot" id="imageMapFrame"></iframe>
      </div>

        <!--<div class="form-group">
            <label for="pile_id">Select Pile <span class="required">*</span></label>
            <input type="text" id="pile_id" name="pile_id" placeholder="Select pile" required>
        </div>-->

         <!--<div class="form-group">
            <label for="pile_id">Select Table <span class="required">*</span></label>
           <select id="row_id" name="row_id" required>
                <option value="" disabled selected>Select Row</option>
                 Options will be populated dynamically 
            </select>
            <input type="text" id="pile_id" name="pile_id" placeholder="Select From Image Map">
          </div>-->

        <div class="form-group">
            <label for="task_date">Task Date <span class="required">*</span></label>
            <input type="date" id="task_date" name="task_date" required>
        </div>

       <!-- <div class="form-group">
            <label for="assessed_case">Assessed Case <span class="required">*</span></label>
            <input type="text" id="assessed_case" name="assessed_case" placeholder="Enter assessed case" required>
        </div>-->
    
        <div class="form-group">
            <label for="allotted_date">Allotted Date <span class="required">*</span></label>
            <input type="date" id="allotted_date" name="allotted_date" required>
        </div>

        <div class="form-group">
          <label for="allotted_by">Allotted By <span class="required">*</span></label>
          <select id="allotted_by" name="allotted_by" required>
              <option value="" disabled selected>Select</option>
          </select>
      </div>

        <!-- <div class="form-group">
            <label for="date_completed">Date Completed <span class="required">*</span></label>
            <input type="date" id="date_completed" name="date_completed" >
        </div> -->

       <!-- <div class="form-group">
            <label for="remedy_status">Remedy Status</label>
            <input type="text" id="remedy_status" name="remedy_status" placeholder="Enter remedy status">
        </div>-->
        <!--<div class="form-group">
            <label for="remedy_status"
              >Assessment Status<span class="required">*</span></label
            >
            <select id="remedy_status" name="remedy_status" required>
              <option value="Incomplete" selected>Incomplete</option>
              <option value="In progres">In progres </option>
              <option value="Under review">Under Review</option>
              <option value="Final">Final</option>
            </select>
          </div>

          <div class="form-group">
            <label for="assessed_case"
              >Assessed Case<span class="required">*</span></label
            >
            <select id="assessed_case" name="assessed_case" required>
              <option value="None" selected>None</option>
              <option value="Corrosion1">Corrosion1</option>
              <option value="Corrosion2">Corrosion2</option>
              <option value="Corrosion3">Corrosion3</option>
            </select>
          </div>-->
          
        <div class="form-group">
            <label for="remedy_text">Remedy Text</label>
            <input type="text" id="remedy_text" name="remedy_text" placeholder="Enter remedy text">
        </div>

        <div class="form-buttons">
            <button type="button" class="cancel-btn" onclick="window.location.href='/dashboard'">Cancel</button>
            <input type="submit" value="Submit">
            <div id="loadingSpinner"></div>
        </div>
        
        <p class="note">* Required</p>
    </form>

     <!-- Popup message for success or failure -->
     <div id="popupMessage" class="popup"></div>

     <script>
      let selectedPiles = [];

// Load users from backend
fetch("/get_user_ids")
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            const userSelect = document.getElementById("user_id");
            const allotedBySelect = document.getElementById("allotted_by");
            data.users.forEach(user => {
                let userOption = new Option(user.username, user.id);
                userSelect.add(userOption);
                let allotedByOption = new Option(user.username, user.id);
                allotedBySelect.add(allotedByOption);
            });
        } else {
            alert("Failed to load users: " + data.message);
        }
    })
    .catch(error => console.error("Error fetching users:", error));

    function updateSelectedHotspots() {
    setTimeout(() => {
        selectedPiles = Array.from(document.querySelectorAll(".hotspot-checkbox:checked"))
            .map(cb => cb.value);

        document.getElementById("selectedHotspots").value = selectedPiles.join(",");
        console.log("Updated Selected Hotspots (Unchecked Only):", selectedPiles);
    }, 10);
}
window.addHotspotToDropdown = function (hotspotName) {
    if (selectedPiles.includes(hotspotName)) return;

    selectedPiles.push(hotspotName);
    updateSelectedHotspots();

    let label = document.createElement("label");
    label.style.display = "block";

    let checkbox = document.createElement("input");
    checkbox.type = "checkbox";
    checkbox.value = hotspotName;
    checkbox.classList.add("hotspot-checkbox");
    checkbox.checked = true;
    checkbox.addEventListener("change", updateSelectedHotspots);

    label.appendChild(checkbox);
    label.appendChild(document.createTextNode(" " + hotspotName));

    document.getElementById("hotspotContainer").appendChild(label);
};

window.removeHotspotFromDropdown = function (hotspotName) {
    selectedPiles = selectedPiles.filter(pile => pile !== hotspotName);
    updateSelectedHotspots();

    let checkbox = document.querySelector(`input[value='${hotspotName}']`);
    if (checkbox) {
        checkbox.parentElement.remove();
    }
};
function updateImageMap() {
    let selectedArea = document.getElementById("area_id").value;
    let iframe = document.getElementById("imageMapFrame");

    if (selectedArea) {
        iframe.src = `/${selectedArea}remedyhotspot`;  // Append "hotspot" to match Flask route
    }
}
function openImageMap() {
    let container = document.getElementById("imageMapContainer");
    let button = document.querySelector(".image-map-btn-custom");

    if (container.style.display === "none" || container.style.display === "") {
        container.style.display = "block";
        button.textContent = "Close Map";
    } else {
        container.style.display = "none";
        button.textContent = "Open Map";
    }
}
document.querySelector(".delete-btn").addEventListener("click", function () {
    let checkboxes = document.querySelectorAll(".hotspot-checkbox");
    
    checkboxes.forEach(checkbox => {
        if (checkbox.checked) {
            checkbox.parentElement.remove(); // Remove label and checkbox
        }
    });

    // Update selected hotspots after deletion
    updateSelectedHotspots();
});
      // dont give prvs dates
      const today = new Date().toISOString().split("T")[0];
      // Set the min attribute to today's date
    
       // Handling form submission
       document.getElementById('remedyForm').addEventListener('submit', function(event) {
    event.preventDefault(); // Prevent default form submission

    // Create a FormData object to send the form data via fetch
    var formData = new FormData(this);

    // Fetch request to submit form data
    fetch('/submit_remedy_form', {
        method: 'POST',
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        var popupMessage = document.getElementById('popupMessage');

        // Dynamically display server message
        popupMessage.textContent = data.message || 'Error submitting the form. Please try again.';

        if (data.success) {
            // Display success popup and redirect
            popupMessage.classList.remove('failure');
            popupMessage.classList.add('success');

            // Redirect after 3 seconds
            setTimeout(function() {
                window.location.href = 'dashboard';
            }, 3000);
        } else {
            // Display failure popup and stay on the page
            popupMessage.classList.remove('success');
            popupMessage.classList.add('failure');
        }

        // Show popup message
        popupMessage.style.display = 'block';

        // Hide popup after 3 seconds
        setTimeout(function() {
            popupMessage.style.display = 'none';
        }, 3000);
    })
    .catch(error => {
        var popupMessage = document.getElementById('popupMessage');
        popupMessage.classList.remove('success');
        popupMessage.classList.add('failure');
        popupMessage.textContent = 'There was an error submitting the form. Please try again.';
        popupMessage.style.display = 'block';

        // Hide popup after 3 seconds
        setTimeout(function() {
            popupMessage.style.display = 'none';
        }, 2000);
    });
});
function toggleSubMenu() {
        const submenu = document.querySelector('.submenu');
        const arrow = document.querySelector('.arrow');

        submenu.classList.toggle('hidden');
        arrow.classList.toggle('rotate');
    }
      document.addEventListener("DOMContentLoaded", () => {
        const burgerButton = document.getElementById("burger-button");
        const closeButton = document.getElementById("close-button");
        const sidebar = document.getElementById("sidebar");

        burgerButton.addEventListener("click", () => {
          sidebar.classList.toggle("open");
          sidebar.classList.toggle("closed");
        });

        closeButton.addEventListener("click", () => {
          sidebar.classList.add("closed");
          sidebar.classList.remove("open");
        });

        document.querySelectorAll(".menu-item").forEach((item) => {
          item.addEventListener("click", () => {
            item.classList.toggle("open");
          });
        });
      });
     </script>
</body>
</html>
